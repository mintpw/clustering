(this.webpackJsonpclustering=this.webpackJsonpclustering||[]).push([[0],{12:function(e,t,a){e.exports={container:"InputForm_container__2T8ml",containerContent:"InputForm_containerContent__2_R1w",containerPie:"InputForm_containerPie__3ZWhm",cardStyle:"InputForm_cardStyle__1QeSL",cardResult:"InputForm_cardResult__2MAbp",button:"InputForm_button__nIwEj"}},196:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),o=a.n(l),c=a(67),u=a(68),s=a(78),i=a(75),m=a(28),p=a.n(m),d=(a(84),a(10)),f=a(69),b=a(201),g=a(202),E=a(200),v=a(199),h=a(12),_=a.n(h),O=a(71),j=a.n(O),S=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)([]),c=Object(d.a)(o,2),u=c[0],s=c[1],i=Object(n.useState)([]),m=Object(d.a)(i,2),p=m[0],h=m[1],O=Object(n.useState)([]),S=Object(d.a)(O,2),y=S[0],I=S[1],C=Object(n.useState)(!1),k=Object(d.a)(C,2),R=k[0],w=k[1],N=Object(n.useState)({labels:[],datasets:[]}),x=Object(d.a)(N,2),F=x[0],A=x[1],M=Object(n.useState)((function(){return localStorage.getItem("token")})),P=Object(d.a)(M,2),G=P[0],T=P[1];Object(n.useEffect)((function(){if(y.length>0){var e=J(y);A({labels:["Group 1","Group 2","Group 3"],datasets:[{data:e,fill:!0,backgroundColor:["#303960","#ea9a96","#f8b24f"]}]})}}),[y]),Object(n.useEffect)((function(){localStorage.setItem("token",G)}),[G]);var J=function(e){var t=new Map;e.forEach((function(e){var a=e;t.get(a)?t.set(a,t.get(a)+1):t.set(a,1)}));for(var a=[],n=0;n<t.size;n++)a.push(t.get(n));return a},L=r.a.createElement(f.a,{data:F,options:{title:{display:!0,text:"Analysis Results",position:"top",fontColor:"#303960"},rotation:-.7*Math.PI,onClick:function(e,t){t&&t.length>0&&h((function(){for(var e=[],a=function(e,t){return e.map((function(e,a){return[e,t[a]]}))}(u,y),n=0;n<a.length;n++){var l=a[n];l[1]===t[0]._index&&e.push(r.a.createElement("li",null,l[0]))}var o=e.length>1?"Messages":"Message";return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Group ",t[0]._index+1," (",e.length," ",o,")"),r.a.createElement("ol",null,e))}))}}});return r.a.createElement("div",{className:_.a.container},r.a.createElement("div",{className:_.a.containerContent},r.a.createElement(b.a,{show:R,variant:"danger",onClose:function(){return w(!1)},dismissible:!0},r.a.createElement(b.a.Heading,null,"SORRY"),r.a.createElement("p",null,"Something went wrong! Please try again later!")),r.a.createElement(g.a,{className:_.a.cardStyle},r.a.createElement(E.a,{onSubmit:function(e){if(e.preventDefault(),w(!1),G&&!(a.length<=0)){var t=a.split("\n");s(t),j.a.post("https://nlp.insightera.co.th/api/nlp/clustering?token="+G,JSON.stringify({max_k:3,samples:t}),{timeout:4e3}).then((function(e){var t,a,n,r;I(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.result)||void 0===a||null===(n=a.message)||void 0===n?void 0:n.cluster),"ERROR"===(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.result.result.toUpperCase())&&w(!0)})).catch((function(e){console.log(e),w(!0)}))}}},r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,null,"Token ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(E.a.Control,{as:"input",rows:"10",id:"tokenInput",value:G,onChange:function(e){return T(e.target.value)}}),r.a.createElement(E.a.Label,null,"Input Message Here ",r.a.createElement("span",{style:{color:"red"}},"*")),r.a.createElement(E.a.Control,{as:"textarea",rows:"10",id:"textarea",value:a,onChange:function(e){return l(e.target.value)}})),r.a.createElement(v.a,{className:_.a.button,type:"submit",disabled:!G||a.length<=0},"Submit"))),r.a.createElement("div",{className:_.a.containerPie},L),r.a.createElement(g.a,{className:_.a.cardResult},r.a.createElement(g.a.Body,null,r.a.createElement("h2",null,"Analysis Results"),p))))},y=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:p.a.container},r.a.createElement("div",{className:p.a.header},r.a.createElement("h2",null,"Clustering API")),r.a.createElement(S,null),r.a.createElement("div",{className:p.a.footer}))}}]),a}(r.a.Component);o.a.render(r.a.createElement(y,null),document.getElementById("root"))},28:function(e,t,a){e.exports={container:"App_container__sT-Fr",header:"App_header__3szUO",footer:"App_footer__1OIFT"}},79:function(e,t,a){e.exports=a(196)}},[[79,1,2]]]);
//# sourceMappingURL=main.cd919b35.chunk.js.map